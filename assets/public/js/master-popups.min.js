!function(e,o,t,n){function i(o,t){var n=this;return n.$body=e("body"),n.popup=o,n.$popup=e(n.popup),n.popup_id=0,n.$container=n.$popup.closest(".mpp-container"),n.$wrap=n.$popup.find(".mpp-wrap").first(),n.$wrap_content=n.$wrap.find(".mpp-content").first(),n.$desktop_content=n.$wrap.find(".mpp-content-desktop").first(),n.$mobile_content=n.$wrap.find(".mpp-content-mobile").first(),n.$wp_editor_content=n.$wrap.find(".mpp-content-wp-editor").first(),n.$device_contents=n.$popup.find(".mpp-content-desktop, .mpp-content-mobile"),n.$elements=n.$popup.find(".mpp-element"),n.$overlay=n.$container.find(".mpp-overlay"),n.$sticky=n.$container.find(".mpp-sticky"),n.is_open=!1,n.is_opening=!1,n.metadata={},n.defaults={id:0,position:"middle-center",fullScreen:!1,mobileDesign:!1,ratioSmallDevices:1,wpEditor:{enabled:!1,autoHeight:!1,padding:"20px 36px"},sound:{enabled:!1,delay:-10,src:""},preloader:{show:!0,duration:1e3},open:{event:"click",delay:0,duration:800,animation:"mpp-zoomIn",disablePageScroll:!1},close:{delay:0,duration:700,animation:"mpp-zoomOut"},overlay:{show:!0,durationIn:300,durationOut:250},notificationBar:{fixed:!0,pushPageDown:!0},sticky:{enabled:!1,initial:!1,vertical:!1},inline:{shouldClose:!1},desktop:{device:"desktop",browserWidth:1e3,browserHeight:580,width:800,widthUnit:"px",height:400,heightUnit:"px"},mobile:{device:"mobile",browserWidth:600,browserHeight:580,width:500,widthUnit:"px",height:300,heightUnit:"px"},callbacks:{beforeOpen:function(e,o,t,n){},afterOpen:function(e,o,t,n){},beforeClose:function(e,o,t,n){},afterClose:function(e,o,t,n){},afterFormSubmission:function(e,o,t,n,i){},resize:function(e,o,t,n){}},triggers:{open:{onLoad:{enabled:!1,delay:1e3},onExit:{enabled:!1},onInactivity:{enabled:!1,period:6e4},onScroll:{enabled:!1,amount:"0%",afterPost:!1,selector:"",displayed:!1}},close:{onClickOverlay:!0,onEscKeydown:!0,automatically:{enabled:!1,delay:1e4},onScroll:{enabled:!1,amount:"10%"}}},cookies:{onLoad:{enabled:!1},onExit:{enabled:!1},onInactivity:{enabled:!1},onScroll:{enabled:!1},onConversion:{enabled:!1}},custom_cookies:{},custom_cookies_on_click:[],custom_cookie_on_close:""},n.has_popup()&&(n.metadata=n.$popup.data("popup")||{}),n.options=e.extend(!0,{},n.defaults,t,n.metadata),n.options.id=n.options.id||n.$popup.data("popup-id"),n.popup_id=n.options.id,n.options.open_delay=a.parse_number(n.options.open.delay)+n.duration_preloader_and_overlay(),n.set_options_to_data(n.options),n.init(),n.events(),n.open(),this}function p(e){a.debug&&console.log(e)}var s=parseInt(MPP_PUBLIC_JS.popups_z_index,10),a={debug:!1,z_index:{overlay:s-1,popup:s,sticky:s-6},popups:[],queue_popups:[],enable_enqueue_popups:MPP_PUBLIC_JS.enable_enqueue_popups,working:0,opened_popups:[],last_open_event:"click"};e(function(n){e.each(MPP_POPUP_OPTIONS,function(e){a.popups.unshift(e)}),e.each(a.popups,function(n,i){var p=MPP_POPUP_OPTIONS[i],s=!1,r=!1,c=a.has_cookie_not_show_popup(i),u=p.triggers.open.onClick,l=[];l.push(".mpp-trigger-popup-"+i),l.push('a[href="mpp-trigger-popup-'+i+'"]'),l.push('a[href="#mpp-trigger-popup-'+i+'"]'),u.customClass&&(e("."+u.customClass).css("cursor","pointer"),l.push("."+u.customClass),l.push('a[href="'+u.customClass+'"]'),l.push('a[href="#'+u.customClass+'"]')),l=l.join(",");var d="hover"==u.event?"mouseover":"click";if(e(l).on(d,function(e){u.preventDefault&&e.preventDefault(),p.open.event="click",a.open_popup_by_id(i,p)}),a.get_cookie_event("onConversion",p)&&(r=!0),r||c?e(".mpp-inline-"+i).css("width","auto").text("User is already subscribed."):e(".mpp-inline-"+i).MasterPopups(p),!c&&!r&&("undefined"==typeof CookiePlus||CookiePlus.should_display_popup(i,p))){s=!1;var _=p.triggers.open.onLoad;_.enabled&&!MPP_PUBLIC_JS.is_admin&&e(o).on("load",function(e){s=!0,setTimeout(function(){(a.get_cookie_event("onLoad",p)||a.get_cookie_event("onConversion",p))&&(s=!1),s&&(p.open.event="onLoad",a.open_popup_by_id(i,p))},a.parse_number(_.delay))}),s=!1;p.triggers.open.onExit.enabled&&!MPP_PUBLIC_JS.is_admin&&e(t).on("mouseleave",function(e){s=!0,e.clientY>=0&&(s=!1),(a.get_cookie_event("onExit",p)||a.get_cookie_event("onConversion",p))&&(s=!1),s&&(p.open.event="onExit",a.open_popup_by_id(i,p))}),s=!1;var f=p.triggers.open.onInactivity;f.enabled&&!MPP_PUBLIC_JS.is_admin&&setTimeout(function(){e(t).idle({idle:a.parse_number(f.period),onIdle:function(){s=!0,(a.get_cookie_event("onInactivity",p)||a.get_cookie_event("onConversion",p))&&(s=!1),s&&(p.open.event="onInactivity",a.open_popup_by_id(i,p))}})},1500),s=!1;var m=p.triggers.open.onScroll;m.enabled&&!MPP_PUBLIC_JS.is_admin&&e(o).scroll(function(){s=!0,m.displayed&&(s=!1),(a.get_cookie_event("onScroll",p)||a.get_cookie_event("onConversion",p))&&(s=!1),"0px"!=m.amount&&"0%"!=m.amount&&s&&a.in_scroll_top(m.amount)&&(p.open.event="onScroll",a.open_popup_by_id(i,p),m.displayed=!0),m.afterPost&&s&&a.in_scroll_element(e(".mpp-after-post-content"),"bottom")&&(p.open.event="onScroll",a.open_popup_by_id(i,p),m.displayed=!0),m.selector&&e(m.selector).length&&s&&a.in_scroll_element(e(m.selector))&&(p.open.event="onScroll",a.open_popup_by_id(i,p),m.displayed=!0)})}})}),e(t).on("keydown",function(o){27==o.which&&e(".mpp-is-open").each(function(t,n){var i=e(n).data("MasterPopup");i.options.triggers.close.onEscKeydown&&!i.is_inline()&&i.close(o)})}),e(o).scroll(function(o){e(".mpp-is-open").each(function(t,n){var i=e(n).data("MasterPopup"),p=i.options.triggers.close.onScroll;p.enabled&&a.in_scroll_top(p.amount)&&i.close(o)})}),i.prototype={init:function(){var e=this;e.init_elements(),e.build_link_powered_by(),e.has_overlay()&&e.options.preloader.show&&e.build_preloader(e.$overlay)},init_elements:function(){this.$elements.each(function(o,t){var n=e(this).data("actions");n.onclick&&"default"!=n.onclick.action&&e(t).css("cursor","pointer")})},build_preloader:function(e){var o=this;e.append('<div class="mpp-preloader"></div>'),o.is_support_css_property("animation")?e.find(".mpp-preloader").addClass("mpp-preloader-animation").html('<div class="mpp-preloader-spinner1"></div><div class="mpp-preloader-spinner2"></div>'):e.find(".mpp-preloader").addClass("mpp-preloader-image")},build_link_powered_by:function(){var e=this;e.$popup.find(".cookieplus-wrap-link-powered-by").length&&e.$popup.find(".mpp-wrap-link-powered-by").remove()},show_popup_content:function(){this.$popup.find(".mpp-content").css("opacity","1")},hide_popup_content:function(){this.$popup.find(".mpp-content").css("opacity","0")},events:function(){var n=this;n.$popup.on("mpp_changed_device",n.on_changed_device),n.on_click_elements(),n.close_popup_events(),n.video_events(),n.form_events(),n.sticky_events(),e(o).on("resize",function(){n.is_open&&(n.set_dynamic_styles("onResize"),n.call_function(n.options.callbacks.resize))}),e(o).scroll(function(){n.is_open&&n.notification_bar_styles()}),n.$popup.find(".mpp-input, .mpp-select, .mpp-textarea").on("focus",function(e){a.working=n.popup_id}),n.$popup.on("hover",function(e){a.working=n.popup_id}),e(t).on("click",function(o){0===e(o.target).closest(".mpp-container").length&&(a.working=0)})},on_changed_device:function(e,o,t,n){o.restore_video_poster_and_stop_videos(n)},sticky_events:function(){var e=this;e.options.sticky.enabled&&e.$sticky.on("click",".mpp-sticky-control",function(o){e.options.open.event="click",e.open(),e.$sticky.fadeOut(150)})},on_click_elements:function(){var t=this;t.$popup.on("click",".mpp-element",function(n){var i=e(this).data("actions");if(i.onclick)switch(i.onclick.action){case"close-popup":n.preventDefault(),t.close(n);break;case"open-popup":case"open-popup-and-not-close":n.preventDefault(),"open-popup"==i.onclick.action&&t.close(n);var p=i.onclick.popup_id;MPP_POPUP_OPTIONS[p]&&(MPP_POPUP_OPTIONS[p].open.event="click",a.open_popup_by_id(p));break;case"redirect-to-url":n.preventDefault(),i.onclick.url&&"#"!=i.onclick.url&&"http://"!=i.onclick.url&&o.open(i.onclick.url,i.onclick.target)}i.onclick.cookie_name&&a.set_custom_cookie(t.popup_id,i.onclick.cookie_name)})},close_popup_events:function(){var e=this;e.$popup.on("click",".mpp-element-close-icon, .mpp-close-popup",function(o){o.preventDefault(),e.close(o)}),e.has_overlay()&&e.options.triggers.close.onClickOverlay&&(e.$overlay.addClass("mpp-overlay-close-popup"),e.$overlay.on("click",function(o){e.close(o)}))},video_events:function(){this.$popup.find(".mpp-element-video").on("click",".mpp-video-poster .mpp-play-icon",function(o){e(this).parent(".mpp-video-poster").css("display","none");var t,n=e(this).closest(".mpp-element").find(".mpp-wrap-video");"html5"==n.data("video-type")?(t=n.find("video").first(),videojs(t.attr("id")).play()):(t=n.find("iframe").first(),t.attr("src",t.data("src")))})},form_events:function(){var o=this;o.valid_characters_events(),o.$popup.find(".mpp-element-field_submit").on("keypress",function(o){13===o.which&&e(this).trigger("click")}),o.$popup.find(".mpp-element-field_submit").on("click",function(t){o.hide_popup_content(),o.$popup.removeClass("mpp-form-sent-ok");var n=e(this),i=o.build_processing_form(),p=i.find(".mpp-processing-form-content"),s=o.get_device_content(n.data("device"));i.fadeIn(200,function(e){"none"==o.$popup.data("form-type")?setTimeout(function(){p.html('Please define the "Form Type". Go your popup options and in "Form Type" choose Subscription Form or Contact Form.'),o.remove_preloader_processing_form()},1800):o.validate_form(t,s)?o.process_form(t,s,i):setTimeout(function(){o.remove_processing_form()},1800)})}),o.$popup.find(".mpp-input, .mpp-select, .mpp-textarea").on("focus",function(o){e(this).removeClass("mpp-error"),e(this).closest(".mpp-element").removeClass("mpp-has-error").find(".mpp-error-warning").remove()}),o.$popup.find(".mpp-element-custom_field_input_checkbox label, .mpp-element-custom_field_input_checkbox_gdpr label").on("click touchstart",function(o){e(this).find(".mpp-checkbox").removeClass("mpp-error"),e(this).closest(".mpp-element").removeClass("mpp-has-error").find(".mpp-error-warning").remove()}),o.$popup.on("click",".mpp-back-to-form",function(e){o.remove_processing_form()})},valid_characters_events:function(){var o=this,t=".mpp-element-field_first_name,.mpp-element-field_last_name,.mpp-element-custom_field_input_text,.mpp-element-field_phone";o.$popup.find(".mpp-input").on("keydown",function(o){var n=e(this),i=n.data("valid-characters");n.closest(t).length&&"all"!=i&&!a.is_control_keypress(o)&&("not-numbers"==i&&a.is_number_keypress(o)?o.preventDefault():("only-numbers"!=i||a.is_number_keypress(o))&&("numbers-and-plus"!=i||a.is_number_keypress(o,"."))?"numbers-and-dash"!=i||a.is_number_keypress(o,"-")||o.preventDefault():o.preventDefault())}),o.$popup.find(".mpp-input").on("keyup",function(o){var n=e(this),i=n.data("valid-characters");if(n.closest(t).length&&"all"!=i)switch(i){case"not-numbers":this.value=this.value.replace(/[\d]+/,"");break;case"only-numbers":this.value=this.value.replace(/[^\d]+/,"");break;case"numbers-and-plus":this.value=this.value.replace(/[^\d.]+/,"");break;case"numbers-and-dash":this.value=this.value.replace(/[^\d-]+/,"")}})},get_last_open_event:function(e){return e||a.last_open_event},open:function(e){var o=this;if(e=e||o.options.open.event,a.last_open_event=e,!o.is_open&&!o.is_opening){if(o.options.sticky.enabled&&o.options.sticky.initial&&"click"!=e)return void o.open_sticky_control();if(!o.enqueue_this_popup(e)||"on"!=a.enable_enqueue_popups)return o.set_opening(!0),setTimeout(function(){o.before_open_popup(e),setTimeout(function(){o.hide_preloader(),setTimeout(function(){o.$popup.fadeIn(120)},80),o.animate_elements(),o.$wrap.animateCSS_MasterPopup(o.options.open.animation,{infinite:!0,infiniteClass:"",duration:a.parse_number(o.options.open.duration)}),setTimeout(function(){o.after_open_popup(e)},a.parse_number(o.options.open.duration)+100)},o.duration_preloader_and_overlay(e))},a.parse_number(o.options.open.delay)),!1}},enqueue_this_popup:function(e){var o=this;if(("onLoad"==e||"onScroll"==e)&&o.exist_open_popups()){var t=a.queue_popups.indexOf(o.options.id);return t>0&&a.queue_popups.splice(t,1),a.queue_popups.push(o.options.id),!0}return!1},exist_open_popups:function(){return!this.is_inline()&&e(".mpp-popup").not(".mpp-inline").is(".mpp-is-opening, .mpp-is-open")},set_opening:function(e){var o=this;o.is_opening=e,e?o.$popup.addClass("mpp-is-opening"):o.$popup.removeClass("mpp-is-opening")},before_open_popup:function(e){var o=this;o.set_initial_styles(),o.set_dynamic_styles("onOpen"),o.open_overlay(e),o.lazy_load_content(),o.call_function(o.options.callbacks.beforeOpen),o.play_sound_effect(),o.$popup.trigger("masterpopups.BeforeOpenPopup",[this,o.$popup,o.options])},after_open_popup:function(e){var o=this;o.set_opening(!1),o.is_open=!0,o.$wrap.removeClass(o.options.open.animation+" mpp-animated"),o.$popup.addClass("mpp-is-open"),o.play_autoplay_videos(),o.show_hide_link_powered_by("show"),o.close_automatically_delay(e),o.update_impressions(),o.call_function(o.options.callbacks.afterOpen),-1==a.opened_popups.indexOf(o.popup_id)&&a.opened_popups.push(o.popup_id),o.$popup.trigger("masterpopups.AfterOpenPopup",[this,o.$popup,o.options])},open_overlay:function(e){var o=this;o.has_overlay()&&(o.$overlay.fadeIn(o.overlay_duration_in(e)),o.options.preloader.show&&o.$overlay.find(".mpp-preloader").fadeIn(200))},overlay_duration_in:function(e){var o=this,t=o.get_last_open_event(e),n=a.parse_number(o.options.overlay.durationIn);return"onExit"==t&&(n=50),n},hide_preloader:function(){var e=this;e.has_overlay()&&e.$overlay.find(".mpp-preloader").fadeOut(250)},show_hide_link_powered_by:function(e){var o=this;o.$popup.find(".mpp-wrap-link-powered-by").length&&("show"==e?o.$popup.find(".mpp-wrap-link-powered-by").fadeIn(500):o.$popup.find(".mpp-wrap-link-powered-by").fadeOut(100))},duration_preloader_and_overlay:function(e){var o=this;if(!o.has_overlay())return 0;var t=0;return o.options.preloader.show&&(t=a.parse_number(o.options.preloader.duration)),t+o.overlay_duration_in(e)},lazy_load_content:function(e){this.load_iframe_url()},load_iframe_url:function(o){this.$popup.find(".mpp-element-iframe").each(function(o,t){var n=e(t).find(".mpp-iframe-wrap").data("src");n&&e(t).find(".mpp-iframe-wrap > iframe").attr("src",n)})},play_autoplay_videos:function(){this.get_device_content().find(".mpp-element-video").each(function(o,t){"on"==e(t).find(".mpp-wrap-video").data("autoplay")&&e(t).find(".mpp-video-poster .mpp-play-icon").trigger("click")})},play_sound_effect:function(){var e=this;if(!e.is_inline()&&e.options.sound.enabled&&e.options.sound.src){var o=e.$container.find(".mpp-sound-effect"),t=MPP_PUBLIC_JS.plugin_url+"assets/audio/"+e.options.sound.src;o.length||(e.$container.append('<audio class="mpp-sound-effect" preload="auto" muted="muted" style="display:none !important;"><source src="'+t+'" type="audio/mpeg"></source></audio>'),o=e.$container.find(".mpp-sound-effect")),setTimeout(function(){o[0].volume=.7,o[0].muted=!1,o[0].play()},e.duration_preloader_and_overlay()+a.parse_number(e.options.sound.delay)+200)}},animate_elements:function(){this.$elements.each(function(o,t){var n=e(t).data("animation");"on"==n.enable&&(e(t).hide(),setTimeout(function(){e(t).show()},a.parse_number(n.delay)+50),e(t).animateCSS_MasterPopup(n.effect,{delay:a.parse_number(n.delay),duration:a.parse_number(n.duration)}))})},set_initial_styles:function(){var e=this;e.show_popup_content(),e.update_z_index(),e.update_page_scroll("add"),e.$popup.addClass("mpp-position-"+e.options.position),e.$device_contents.css("overflow",e.$popup.data("overflow")),e.options.sticky.enabled&&e.$sticky.fadeOut(150),e.options.wpEditor.enabled&&(e.$popup.addClass("mpp-has-wp-editor"),e.$popup.find(".mpp-content").css({padding:e.options.wpEditor.padding}))},set_dynamic_styles:function(e){var o=this;o.display_content_for_device(),o.resize(e),o.reposition_close_icon(),o.notification_bar_styles()},notification_bar_styles:function(){var e=this;e.is_notification_bar()&&(e.options.notificationBar.fixed||(e.$popup.css("position","absolute"),"bottom-bar"==this.options.position&&e.fix_top_position_for_bottom_bar()),setTimeout(function(){e.push_page_down_for_top_bar()},90))},update_z_index:function(){var e=this;e.is_inline()||(e.$overlay.css("z-index",a.z_index.overlay),a.z_index.overlay++,e.$popup.css("z-index",a.z_index.popup),a.z_index.popup++,e.$sticky.css("z-index",a.z_index.sticky),a.z_index.sticky++)},display_content_for_device:function(){var e=this;"mobile"==e.get_active_device()?"none"==e.$mobile_content.css("display")&&(e.$mobile_content.show(),e.$desktop_content.hide(),e.$popup.trigger("mpp_changed_device",[e,"mobile","desktop"])):"none"==e.$desktop_content.css("display")&&(e.$desktop_content.show(),e.$mobile_content.hide(),e.$popup.trigger("mpp_changed_device",[e,"desktop","mobile"]))},resize:function(e){var o=this,t=o.get_device_options(),n=o.window_size(),i=Math.max(280,n.width-o.get_spacing()-o.get_side_spacing()),p=Math.max(280,n.height-o.get_spacing()),s=Math.min(i/o.get_number_value(t.width+t.widthUnit,"horizontal"),p/o.get_number_value(t.height+t.heightUnit,"vertical"));(o.options.fullScreen||o.is_notification_bar())&&(s=n.width/t.browserWidth),s=s>1?1:s,o.options.fullScreen?o.$popup.css({width:"100%",height:"100%"}):(o.in_mobile_reference()&&(s*=parseFloat(o.options.ratioSmallDevices)),o.$popup.css("height",o.value_by_ratio(s,t.height+t.heightUnit)),o.is_notification_bar()?o.$popup.css("width","100%"):o.$popup.css("width",o.value_by_ratio(s,t.width+t.widthUnit))),o.options.fullScreen?o.$device_contents.css({width:o.value_by_ratio(s,t.browserWidth+"px"),height:o.value_by_ratio(s,t.browserHeight+"px")}):o.is_notification_bar()?o.$device_contents.css({width:o.value_by_ratio(s,t.browserWidth+"px"),height:o.value_by_ratio(s,t.height+"px")}):o.$device_contents.css({width:o.value_by_ratio(s,t.width+"px"),height:o.value_by_ratio(s,t.height+"px")}),o.options.wpEditor.enabled?o.resize_for_wp_editor():o.resize_elements(e,s)},resize_elements:function(o,t){var n=this;n.$elements.each(function(o,i){var p=e(i).data("position"),s=e(i).data("size"),r=e(i).data("type"),c=p.top,u=p.left;if(e(i).css({top:n.value_by_ratio(t,c),left:n.value_by_ratio(t,u),width:n.value_by_ratio(t,s.width),height:n.value_by_ratio(t,s.height)}),"shortcode"!=e(i).data("type")){var l=e(i).find(".mpp-element-content"),d=l.data("font"),_=l.data("padding"),f=l.data("border"),m=l;e.inArray(e(i).data("type"),n.form_elements())>-1&&(m=l.find("input"),"field_message"==e(i).data("type")?m=l.find("textarea"):"custom_field_dropdown"==e(i).data("type")&&(m=l.find("select")));var h={"font-size":n.value_by_ratio(t,d["font-size"]),"padding-top":n.value_by_ratio(t,_.top),"padding-right":n.value_by_ratio(t,_.right),"padding-bottom":n.value_by_ratio(t,_.bottom),"padding-left":n.value_by_ratio(t,_.left),"border-top-width":n.value_by_ratio(t,f["top-width"]),"border-right-width":n.value_by_ratio(t,f["right-width"]),"border-bottom-width":n.value_by_ratio(t,f["bottom-width"]),"border-left-width":n.value_by_ratio(t,f["left-width"]),"border-radius":n.value_by_ratio(t,f.radius)};if(e.each(h,function(e,o){m._css(e,o,"important")}),"custom_field_dropdown"==r){var v=a.number_data(d["font-size"]),g=.8*a.parse_number(v.value)+v.unit;e(i).find(".mpp-icon-dropdown").css({"font-size":n.value_by_ratio(t,g)})}if("video"==r&&"on"==s["full-screen"]){var b=n.window_size();e(i)._css("width",b.width+"px","important"),e(i)._css("height",b.height+"px","important"),e(i)._css("top","50%","important"),e(i)._css("left","50%","important"),e(i)._css("transform","translate(-50%, -50%) scale(1)","important")}}}),n.$elements.filter(".mpp-on-top-right-page").length&&("onOpen"==o?setTimeout(function(){n.force_top_right_page_close_icon(t)},n.options.open_delay+100):n.force_top_right_page_close_icon(t))},resize_for_wp_editor:function(){var e=this,o=e.get_device_options(),t=e.window_size();if(e.options.wpEditor.autoHeight?(e.$popup.css({height:"auto"}),e.$wrap.css({height:"auto"})):e.$popup.css({height:o.height+o.heightUnit}),!e.is_inline()){var n=e.popup_size();"middle-center"!=e.options.position&&n.height>t.height-30&&(e.$popup.css("height",t.height-40),n=e.popup_size());var i=Math.max(0,(t.height-n.height)/2),p=Math.max(0,(t.width-n.width)/2);switch(e.options.position){case"top-left":case"top-center":case"top-right":case"top-bar":"top-center"==e.options.position&&e.$popup.css("left",p+t.scrollLeft);break;case"middle-center":n.height>t.height-30&&(i+=30),e.$popup.css({position:"absolute",top:i+t.scrollTop,left:p+t.scrollLeft});break;case"middle-left":case"middle-right":e.$popup.css("top",i);break;case"bottom-left":case"bottom-center":case"bottom-right":case"bottom-bar":"bottom-center"==e.options.position&&e.$popup.css("left",p+t.scrollLeft)}}},reposition_close_icon:function(){var e=this,o=e.$popup.find(".mpp-close-icon");if(o.length){var t=e.popup_size();o.css({left:t.width-o.width()-10,top:10})}},force_top_right_page_close_icon:function(e){var o=this,t=o.window_size(),n=o.popup_size(),i=parseInt(30*e),p=o.$elements.filter(".mpp-on-top-right-page"),s=p.width(),a=t.scrollTop-o.$popup.offset().top+i,r=t.width-o.$popup.offset().left-i-s;if(o.$elements.filter(".mpp-on-top-right-page").css({top:a,left:r}),o.options.fullScreen||o.is_notification_bar()){var c=o.get_device_content(),u=-(t.width-c.width())/2+i;a=n.height>=80?i:parseInt(18*e),o.$elements.filter(".mpp-on-top-right-page").css({top:a,left:"auto",right:u}),o.options.fullScreen&&(a=-(t.height-c.height())/2+i,o.$elements.filter(".mpp-on-top-right-page").css("top",a))}},fix_top_position_for_bottom_bar:function(){var t=this,n=t.window_size();t.$popup.css("top",n.dHeight),t.$popup.css("bottom","auto");var i=!1;e(o).scroll(function(){!i&&a.in_scroll_top("5%")&&(i=!0,t.$popup.hide(),n=t.window_size(),t.$popup.fadeIn(400),t.$popup.css("top",n.dHeight))})},push_page_down_for_top_bar:function(){var o=this;if(o.options.notificationBar.pushPageDown&&"bottom-bar"!=o.options.position){var t=e(o.options.notificationBar.fixedHeaderSelector),n=e(o.options.notificationBar.containerPageSelector);n=n.length?n:o.$body;var i=o.$popup.outerHeight();e("#wpadminbar").length&&o.$popup.css("margin-top",e("#wpadminbar").outerHeight());var p=0,s="0px",a="mpp-animate-push-page-down";t.length&&(t.hasClass(a)||(t.addClass(a),void 0===t.data("margin-top")&&t.attr("data-margin-top",t.css("margin-top")),"fixed"==t.css("position")&&o.options.notificationBar.fixed&&(p=t.outerHeight(),s=i),t.stop().animate({"margin-top":s},700,function(){t.removeClass(a)}))),"null"!==o.options.notificationBar.containerPageSelector&&(n.hasClass(a)||(n.addClass(a),n.stop().animate({"margin-top":i+p},700,function(){n.removeClass(a)})))}},restore_page_down_for_top_bar:function(){var o=this;setTimeout(function(){if(o.options.notificationBar.pushPageDown&&"bottom-bar"!=o.options.position){var t=e(o.options.notificationBar.fixedHeaderSelector),n=e(o.options.notificationBar.containerPageSelector);if(n=n.length?n:o.$body,t.length){var i=void 0!==t.data("margin-top")?t.data("margin-top"):0;t.stop().animate({"margin-top":i},750,function(){})}"null"!==o.options.notificationBar.containerPageSelector&&n.stop().animate({"margin-top":"0px"},750,function(){})}},150)},close_automatically_delay:function(e){var o=this;a.opened_popups.indexOf(o.popup_id)>-1||o.options.triggers.close.automatically.enabled&&setInterval(function(){a.working!=o.popup_id&&o.is_open&&o.close(e)},a.parse_number(o.options.triggers.close.automatically.delay))},close:function(e,o){var t=this;t.is_inline()&&!t.options.inline.shouldClose||(o=void 0===o||o,t.is_open&&(t.before_close_popup(o),t.$wrap.animateCSS_MasterPopup(t.options.close.animation,{infinite:!0,infiniteClass:"",duration:t.options.close.duration}),setTimeout(function(){t.after_close_popup(o)},a.parse_number(t.options.close.duration))))},before_close_popup:function(e){var o=this;o.is_notification_bar()&&o.restore_page_down_for_top_bar(),o.show_hide_link_powered_by("hide"),o.update_page_scroll("remove"),o.call_function(o.options.callbacks.beforeClose),o.$popup.trigger("masterpopups.BeforeClosePopup",[this,o.$popup,o.options])},after_close_popup:function(e){var o=this;o.close_overlay(),o.$popup.hide(),o.$wrap.removeClass(o.options.close.animation+" mpp-animated"),o.$popup.removeClass("mpp-is-open"),o.is_open=!1,o.restore_video_poster_and_stop_videos(),o.restore_iframe_url(),o.remove_processing_form(),o.is_notification_bar()&&o.restore_page_down_for_top_bar(),o.set_cookies_after_close(),o.options.sticky.enabled&&e&&o.open_sticky_control(),"on"==a.enable_enqueue_popups&&o.open_enqueue_popups(),o.call_function(o.options.callbacks.afterClose),o.$popup.trigger("masterpopups.AfterClosePopup",[this,o.$popup,o.options])},close_overlay:function(){var e=this;e.has_overlay()&&e.$overlay.fadeOut(a.parse_number(e.options.overlay.durationOut))},restore_iframe_url:function(o){this.$popup.find(".mpp-element-iframe").each(function(o,t){e(t).find(".mpp-iframe-wrap > iframe").attr("src","about:blank")})},restore_video_poster_and_stop_videos:function(o){var t=this,n=t.$popup.find(".mpp-element-video");o&&(n=t.get_device_content(o).find(".mpp-element-video")),n.each(function(o,t){e(t).find(".mpp-video-poster").css("display","block");var n,i=e(t).find(".mpp-wrap-video");if("html5"==i.data("video-type")){n=i.find("video").first();var p=videojs(n.attr("id"));p.pause(),p.currentTime(0)}else n=i.find("iframe").first(),n.attr("src","about:blank")})},update_page_scroll:function(o){var t=this;!t.is_inline()&&t.options.open.disablePageScroll&&e("html").toggleClass("mpp-disable-page-scroll","add"==o)},open_sticky_control:function(){var e=this;if(e.options.sticky.enabled&&!a.has_cookie_not_show_popup(e.popup_id)){var o="mpp-slideInUp";switch(e.options.position){case"top-left":case"top-center":case"top-right":case"top-bar":o="mpp-slideInDown";break;case"middle-left":o="mpp-slideInLeft",e.options.sticky.vertical&&(o="mpp-slideInDown");break;case"middle-right":o="mpp-slideInRight",e.options.sticky.vertical&&(o="mpp-slideInUp");break;case"bottom-left":case"bottom-center":case"bottom-right":case"bottom-bar":o="mpp-slideInUp"}e.$sticky.fadeIn(300).find(".mpp-sticky-control").animateCSS_MasterPopup(o,{infinite:!1,infiniteClass:"",duration:1e3}),e.$sticky.fadeIn(300).css({"z-index":a.z_index.sticky})}},set_cookies_after_close:function(){var e=this,o=e.options.cookies[e.get_last_open_event()];o&&o.enabled&&a.cookie.set(o.name,!0,"days"==o.duration?o.days:0),e.options.custom_cookie_on_close&&a.set_custom_cookie(e.popup_id,e.options.custom_cookie_on_close)},open_enqueue_popups:function(){a.queue_popups.length>0&&(a.open_popup_by_id(a.queue_popups[0]),a.queue_popups.shift())},update_impressions:function(e){var o=this;e=e||!1;var t={};t.action="mpp_update_impressions",t.popup_id=o.options.id,t.restore=e,setTimeout(function(){o.ajax({data:t,success:function(e){}},"update_impressions")},7e3)},update_submits:function(){var e=this,o={};o.action="mpp_update_submits",o.popup_id=e.options.id,e.ajax({data:o,success:function(e){}},"update_submits")},build_processing_form:function(){var e=this,o='<div class="mpp-processing-form"><div class="mpp-processing-form-content"></div><div class="mpp-processing-form-footer"><span class="mpp-back-to-form">'+MPP_PUBLIC_JS.strings.back_to_form+'</span><span class="mpp-close-popup">'+MPP_PUBLIC_JS.strings.close_popup+"</span></div></div>";e.$wrap.append(o);var t=e.$wrap.find(".mpp-processing-form");return e.build_preloader(t),e.is_inline()&&!e.options.inline.shouldClose&&t.find(".mpp-close-popup").remove(),e.$wrap.find(".mpp-preloader").fadeIn(200),t},remove_processing_form:function(){var o=this;o.$wrap.find(".mpp-processing-form").fadeOut(300,function(t){e(this).remove(),o.show_popup_content()})},remove_preloader_processing_form:function(){var e=this,o=e.$wrap.find(".mpp-processing-form");o.find(".mpp-preloader").remove(),o.find(".mpp-processing-form-footer").fadeIn(200)},process_form:function(t,n,i){var p=this,s=n.find(".mpp-form-element"),r=i.find(".mpp-processing-form-content"),c=s.find("input[name],select[name],textarea[name]").serializeObject();c.action="mpp_"+p.$popup.data("form-type"),c.popup_id=p.options.id,c.current_device=s.eq(0).data("device"),c.popup_elements=[],s.each(function(o,t){c.popup_elements.push(e(t).data("index"))}),p.ajax({data:c,beforeSend:function(){},success:function(e){if(e)if(e.error)r.html(e.message);else if(e.success){var n=p.options.cookies.onConversion;n.enabled&&a.cookie.set(n.name,!0,"days"==n.duration?n.days:0),e.actions.close_popup&&setTimeout(function(){p.close(t,!1),a.open_popup_by_id(e.actions.open_popup_id)},a.parse_number(e.actions.close_popup_delay)),e.actions.download_file&&setTimeout(function(){download(e.actions.file)},1e3),e.actions.redirect&&setTimeout(function(){p.$body.hasClass("wp-admin")?alert("MasterPopups say: Redirection is disabled in Admin"):o.location=e.actions.redirect_to},1500),e.actions.advanced_redirection&&setTimeout(function(){p.$body.hasClass("wp-admin")?alert("MasterPopups say: Redirection is disabled in Admin"):o.location=e.actions.advanced_redirection},1500),p.update_submits(),p.$popup.addClass("mpp-form-sent-ok"),r.html(e.actions.message),p.call_function(p.options.callbacks.afterFormSubmission,!0)}else{var i=e.actions.message;e.actions.service&&e.actions.service.show_error&&(i+='<div style="padding-top: 8px;"><strong>ERROR: </strong><em>'+e.actions.service.error+"</em></div>"),r.html(i),p.call_function(p.options.callbacks.afterFormSubmission,!1)}},complete:function(e,o){p.remove_preloader_processing_form()}},"process_form")},validate_form:function(o,t){var n,i,p,s,a=this,r=!0,c=!0,u=1;return t.find(".mpp-form-element").each(function(o,t){if("off"==e(t).data("required"))return!0;if(p=e(t).data("type"),n="custom_field_input_checkbox"==p||"custom_field_input_checkbox_gdpr"==p?e(t).find("input.mpp-checkbox"):"custom_field_dropdown"==p?e(t).find("select.mpp-select"):"field_message"==p?e(t).find("textarea.mpp-textarea"):e(t).find("input.mpp-input"),e(t).removeClass("mpp-has-error").find(".mpp-error-warning").remove(),n.removeClass("mpp-error"),"custom_field_input_checkbox"==p||"custom_field_input_checkbox_gdpr"==p)n.is(":checked")?r=!0:(r=!1,c=!1,s=MPP_PUBLIC_JS.strings.validation.checkbox);else if("field_email"==p)i=n.val(),a.validator.is_email(i)?r=!0:(r=!1,c=!1,s=MPP_PUBLIC_JS.strings.validation.email);else if("custom_field_dropdown"==p)a.validator.min_length(n.val(),1)?r=!0:(r=!1,c=!1,s=MPP_PUBLIC_JS.strings.validation.dropdown);else{var l=e(t).find(".mpp-input");l.length&&l.data("min-characters")&&(u=parseInt(l.data("min-characters"))),u=u>=1?u:1,a.validator.min_length(n.val(),u)?r=!0:(r=!1,c=!1,s=MPP_PUBLIC_JS.strings.validation.general+" (Min length: "+u+")")}r||(n.addClass("mpp-error"),e(t).addClass("mpp-has-error").append('<span class="mpp-error-warning" title="'+s+'"></span>'))}),c},has_popup:function(){return!!this.$popup.length},set_options_to_data:function(e){var o=this;return!!o.has_popup()&&(o.$popup.data("popup",e),!0)},call_function:function(o,t){e.isFunction(o)&&o.call(this,jQuery,this,this.options.id,this.options,t)},viewport:function(){var e=o,n="inner";return"innerWidth"in o||(n="client",e=t.documentElement||t.body),{width:e[n+"Width"],height:e[n+"Height"]}},window_size:function(){var n=this,i={height:e(o).height(),dWidth:e(t).width(),dHeight:e(t).height(),scrollTop:e(o).scrollTop(),scrollLeft:e(o).scrollLeft(),viewport:{width:n.viewport().width,height:n.viewport().height}};return n.is_inline()?i.width=n.$container.parent().innerWidth():i.width=e(o).width(),i},popup_size:function(){var e=this;return{width:e.$popup.width(),height:e.$popup.height(),innerWidth:e.$popup.innerWidth(),innerHeight:e.$popup.innerHeight(),outerWidth:e.$popup.outerWidth(!0),outerHeight:e.$popup.outerHeight(!0)}},get_device_options:function(){var e=this;return"mobile"==e.get_active_device()?e.options.mobile:e.options.desktop},get_active_device:function(){var e=this;return e.is_inline()?"desktop":e.options.mobileDesign&&e.in_mobile_reference()?"mobile":"desktop"},
get_device_content:function(e){var o=this;return e=e||o.get_active_device(),"desktop"==e?o.$desktop_content:o.$mobile_content},in_mobile_reference:function(){return this.window_size().width<=a.parse_number(this.options.mobile.browserWidth)},is_notification_bar:function(){return"top-bar"==this.options.position||"bottom-bar"==this.options.position},is_inline:function(){return this.$popup.hasClass("mpp-inline")},get_spacing:function(){var e=this,o=e.get_device_options();return e.is_inline()||100==o.width&&"%"==o.widthUnit?0:e.window_size().width<=e.options.mobile.browserWidth?10:20},get_side_spacing:function(){var e=this;return e.is_inline()?0:e.options.position.indexOf("left")>-1||e.options.position.indexOf("right")>-1?.12*e.window_size().width:0},is_support_css_property:function(e){var o=t.createElement("div");if(e=e.toLowerCase(),void 0!==o.style[e])return!0;for(var n=e.charAt(0).toUpperCase()+e.substr(1),i="Webkit Moz ms O".split(" "),p=0;p<i.length;p++)if(void 0!==o.style[i[p]+n])return!0;return!1},form_elements:function(){return["field_first_name","field_last_name","field_email","field_phone","field_message","custom_field_input_text","custom_field_dropdown"]},has_overlay:function(){var e=this;return e.options.overlay.show&&1==e.$overlay.length},get_number_value:function(e,o){var t=this,n=t.window_size(),i=1;if(o=o||"horizontal",t.is_numeric(e)){var p=a.number_data(e);i=p.value,"%"==p.unit&&("horizontal"==o?i=p.value/100*n.width:"vertical"==o&&(i=p.value/100*n.height))}return a.parse_number(i)},value_by_ratio:function(e,o){var t=this;if(t.is_auto(o))return o;if(t.is_numeric(o)){var n=a.number_data(o);return e*parseFloat(n.value)+n.unit}return""},is_number:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},is_numeric:function(e){return!isNaN(parseInt(e))},is_auto:function(o){return e.inArray(o,["auto","initial","inherit","normal"])>-1},number_full_width:function(){return this.get_number_value("100%","horizontal")},number_full_height:function(){return this.get_number_value("100%","vertical")},validator:{is_email:function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},min_length:function(o,t){return e.trim(o).length>=t}},css:{number:function(o,t){var n=this;t=t||"";var i=["auto","initial","inherit","normal"];return e.inArray(o,i)>-1?o:(o=o.toString().replace(/[^0-9.\-]/g,""),n.is_number(o)?o+t:1)},is_number:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},ajax:function(o,t){var n={type:"post",data:{ajax_nonce:MPP_PUBLIC_JS.ajax_nonce},dataType:"json",beforeSend:function(){},success:function(e){},complete:function(e,o){}};o=e.extend(!0,{},n,o),p("==================== AJAX PROCESS ===================="),p("options.data:"),p(o.data),e.ajax({url:MPP_PUBLIC_JS.ajax_url,type:o.type,dataType:o.dataType,data:o.data,beforeSend:o.beforeSend,success:function(n){p("====== AJAX Event: "+t+" ========"),p("ajax success, response:"),p(n),e.isFunction(o.success)&&o.success.call(this,n)},error:function(e,o,t){p("ajax error, jqXHR"),p(e),p("ajax error, errorThrown"),p(t)},complete:function(t,n){e.isFunction(o.complete)&&o.complete.call(this,t,n)}})},queryStringToJson:function(e){if(""===e)return"";e=e||location.search,0===e.indexOf("?")&&(e=e.slice(1));var o=e.split("&"),t={};for(var n in o){var i=o[n].split("=");i[0]&&(t[i[0]]=decodeURIComponent(i[1]||""))}return t}},a.open_popup_by_id=function(o,t){void 0!==t?e(".mpp-popup-"+o).MasterPopups(t):a.is_empty(MPP_POPUP_OPTIONS[o])||e(".mpp-popup-"+o).MasterPopups(MPP_POPUP_OPTIONS[o])},a.set_custom_cookie=function(e,o){var t=MPP_POPUP_OPTIONS[e].custom_cookies[o];t&&"on"==t.enable&&a.cookie.set(t.name,!0,"days"==t.duration?t.days:0)},a.get_cookie_event=function(e,o){if(o.cookies&&o.cookies[e]){var t=o.cookies[e];if(t.enabled&&null!==a.cookie.get(t.name))return a.cookie.get(t.name)}return null},a.get_custom_cookies=function(e){var o=MPP_POPUP_OPTIONS[e].custom_cookies_on_click,t={};return o.length>0&&o.forEach(function(o,n,i){var p=MPP_POPUP_OPTIONS[e].custom_cookies[o];p&&"on"==p.enable&&(t[o]=p)}),t},a.has_cookie_not_show_popup=function(o){var t=!1,n=a.get_custom_cookies(o);return e.each(n,function(e,o){null!==a.cookie.get(o.name)&&o.behavior&&o.behavior.indexOf("not_show_popup")>-1&&(t=!0)}),t},a.is_empty=function(o){return void 0===o||null===o||("object"==typeof o&&o instanceof e?0===o.length:!1===o||0===e.trim(o).length)},a.parse_number=function(e){return e=parseFloat(e),isFinite(e)?e:1},a.in_scroll_top=function(n){var i=a.number_data(n),p=a.parse_number(i.value);return"%"==i.unit?e(o).scrollTop()>=(e(t).height()-e(o).height())*(p/100):e(o).scrollTop()>=p},a.in_scroll_element=function(t,n){n=n||"top";var i=t.offset().top,p=t.outerHeight(),s=e(o).scrollTop(),a=e(o).height();if("top"==n){return s>i-.5*a}if("bottom"==n){var r=e("body").height()-a,c=i+p-.6*a;return c>r&&(c=c-.4*a-100),s>c}return!1},a.number_data=function(o){var t={value:o,unit:void 0};return o=o.toString(),e.inArray(o,["auto","initial","inherit","normal"])>-1?(t.value=o,t.unit=void 0):o.indexOf("px")>-1?(t.value=o.replace("px",""),t.unit="px"):o.indexOf("%")>-1?(t.value=o.replace("%",""),t.unit="%"):o.indexOf("em")>-1&&(t.value=o.replace("em",""),t.unit="em"),t},a.cookie={set:function(e,o,n){var i="";if(n){n=parseInt(n,10);var p=new Date;p.setTime(p.getTime()+24*n*60*60*1e3),i="; expires="+p.toGMTString()}t.cookie=e+"="+o+i+"; path=/"},get:function(e){for(var o=e+"=",n=t.cookie.split(";"),i=0;i<n.length;i++){for(var p=n[i];" "===p.charAt(0);)p=p.substring(1,p.length);if(0===p.indexOf(o))return p.substring(o.length,p.length)}return null},remove:function(e){this.set(e,"",-1)}},a.reverse_object=function(e){var o={},t=[];for(var n in e)t.push(n);for(var i=t.length-1;i>=0;i--){var p=e[t[i]];o[t[i]]=p}return o},a.is_control_keypress=function(o){return-1!==e.inArray(o.keyCode,[8,46,9,27,13])||65==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||67==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||86==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||88==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||o.keyCode>=35&&o.keyCode<=39},a.is_number_keypress=function(o,t){return!(!t||"."!=t||-1===e.inArray(o.keyCode,[110,190]))||(!(!t||"-"!=t||-1===e.inArray(o.keyCode,[189,109]))||(!(o.shiftKey||o.keyCode<48||o.keyCode>57)||!(o.keyCode<96||o.keyCode>105)))},e.MasterPopups=function(e){new i(void 0,e)},e.fn.MasterPopups=function(o){if("string"!=typeof o)return this.each(function(){var t=e(this).data("popup-id");if(void 0===o&&t&&(o=MPP_POPUP_OPTIONS[t]),e(this).data("MasterPopup")){var n="click";return e(this).data("popup")&&(n=o.open.event||"click"),e(this).data("MasterPopup").open(n)}e(this).data("MasterPopup",new i(this,o))});console.log("Options is string")}}(jQuery,window,document),function(e){if(!e.fn._css){var o=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,t,n){this.setAttribute(e,t);var n=void 0!==n?n:"";if(""!=n){var i=new RegExp(o(e)+"\\s*:\\s*"+o(t)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,e+": "+t+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(o(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),e.fn._css=function(e,o,t){if(void 0===this.get(0))return this;var n=this.get(0).style;return void 0!==e?void 0!==o?(t=void 0!==t?t:"",n.setProperty(e,o,t),this):n.getPropertyValue(e):n}}}(jQuery),function(e,o){"$:nomunge";e.fn.serializeObject=function(){var o={};return e.each(this.serializeArray(),function(t,n){var i=n.name,p=n.value;o[i]=void 0===o[i]?p:e.isArray(o[i])?o[i].concat(p):[o[i],p]}),o}}(jQuery),function(){"use strict";var e;e=jQuery,e.fn.extend({animateCSS_MasterPopup:function(o,t){var n,i,p,s,a,r,c,u,l,d;return u={effect:o,delay:0,animationClass:"mpp-animated",infiniteClass:"mpp-infinite",infinite:!1,callback:t,duration:1e3,debug:!1},l="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",u=e.extend(u,t),a=function(e){return i(e)},i=function(e){return!0===u.infinite&&(u.animationClass+=" "+u.infiniteClass),setTimeout(function(){return c(e),d(e),n(e),s(e)},u.delay)},n=function(e){return e.addClass(u.effect+" "+u.animationClass+" ")},d=function(e){if("hidden"===e.css("visibility")&&e.css("visibility","visible"),e.is(":hidden"))return e.show()},r=function(e){return e.removeClass(u.effect+" "+u.animationClass)},c=function(e){return e.css({"-webkit-animation-duration":u.duration+"ms","-moz-animation-duration":u.duration+"ms","-o-animation-duration":u.duration+"ms","animation-duration":u.duration+"ms"})},p=function(e){if(!1===u.infinite&&r(e),"function"==typeof u.callback)return u.callback.call(e)},s=function(e){return e.one(l,function(){return p(e)})},this.each(function(){return a(e(this))})}})}.call(this),function(e,o){"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o():e.download=o()}(this,function(){return function e(o,t,n){function i(e){var o=e.split(/[:;,]/),t=o[1],n="base64"==o[2]?atob:decodeURIComponent,i=n(o.pop()),p=i.length,s=0,a=new Uint8Array(p);for(s;s<p;++s)a[s]=i.charCodeAt(s);return new m([a],{type:t})}function p(e,o){if("download"in _)return _.href=e,_.setAttribute("download",h),_.className="download-js-link",_.innerHTML="downloading...",_.style.display="none",document.body.appendChild(_),setTimeout(function(){_.click(),document.body.removeChild(_),!0===o&&setTimeout(function(){r.URL.revokeObjectURL(_.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var t=document.createElement("iframe");document.body.appendChild(t),!o&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),t.src=e,setTimeout(function(){document.body.removeChild(t)},333)}var s,a,r=window,c="application/octet-stream",u=n||c,l=o,d=!t&&!n&&l,_=document.createElement("a"),f=function(e){return String(e)},m=r.Blob||r.MozBlob||r.WebKitBlob||f,h=t||"download";if(m=m.call?m.bind(r):Blob,"true"===String(this)&&(l=[l,u],u=l[0],l=l[1]),d&&d.length<2048&&(h=d.split("/").pop().split("?")[0],_.href=d,-1!==_.href.indexOf(d))){var v=new XMLHttpRequest;return v.open("GET",d,!0),v.responseType="blob",v.onload=function(o){e(o.target.response,h,c)},setTimeout(function(){v.send()},0),v}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&m!==f))return navigator.msSaveBlob?navigator.msSaveBlob(i(l),h):p(l);l=i(l),u=l.type||c}else if(/([\x80-\xff])/.test(l)){var g=0,b=new Uint8Array(l.length),y=b.length;for(g;g<y;++g)b[g]=l.charCodeAt(g);l=new m([b],{type:u})}if(s=l instanceof m?l:new m([l],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(s,h);if(r.URL)p(r.URL.createObjectURL(s),!0);else{if("string"==typeof s||s.constructor===f)try{return p("data:"+u+";base64,"+r.btoa(s))}catch(e){return p("data:"+u+","+encodeURIComponent(s))}a=new FileReader,a.onload=function(e){p(this.result)},a.readAsDataURL(s)}return!0}}),function(e){"use strict";e.fn.idle=function(o){var t,n,i={idle:6e4,events:"mousemove keydown mousedown touchstart",onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},p=o.startAtIdle||!1,s=!o.startAtIdle||!0,a=e.extend({},i,o),r=null;return e(this).on("idle:stop",{},function(){e(this).off(a.events),a.keepTracking=!1,t(r,a)}),t=function(e,o){return p&&(p=!1,o.onActive.call()),clearTimeout(e),o.keepTracking?n(o):void 0},n=function(e){return(e.recurIdleCall?setInterval:setTimeout)(function(){p=!0,e.onIdle.call()},e.idle)},this.each(function(){r=n(a),e(this).on(a.events,function(){r=t(r,a)}),(a.onShow||a.onHide)&&e(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?s&&(s=!1,a.onHide.call()):s||(s=!0,a.onShow.call())})})}}(jQuery);